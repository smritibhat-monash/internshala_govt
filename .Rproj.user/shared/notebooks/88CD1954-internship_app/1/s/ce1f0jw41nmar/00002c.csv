"0","patent <- read_csv(""data/patent_2 - Total patent grants (direct and PCT national phase entries)_Total count by applicant&#39;s origin (equivalent count)_1980_2020.csv"", skip = 5)"
"0","gdp_per_capita <- read_csv(""data/API_NY/API_NY.GDP.PCAP.CD_DS2_en_csv_v2_3159040.csv"", skip = 3)"
"0",""
"0","patent <- patent %>%"
"0","  rename(""Country Name"" = ...1) %>%"
"0","  rename(Type = ...4) %>%"
"0","  filter(""Country Name"" != ""Origin"") %>%"
"0","  select(-c(...2, ...3)) %>%"
"0","  mutate(`2020` = as.numeric(str_extract(`2020`, ""\\d+""))) %>%"
"0","  pivot_longer(cols = ""1980"":""2020"", names_to = ""Year"", values_to = ""patent"") %>%"
"0","  filter(Type == ""Total"")"
"0",""
"0","gdp_per_capita <- gdp_per_capita %>%"
"0","  select(-c(`Country Code`,"
"0","            `Indicator Name`,"
"0","            `Indicator Code`,"
"0","            `1960`:`1979`,`...66`)) %>%"
"0","  pivot_longer(cols = ""1980"":""2020"","
"0","               names_to = ""Year"","
"0","               values_to = ""gdp_per_capita"")"
"0",""
"0","income_group <- read_csv(""data/OGHIST.csv"", skip = 5)"
"0",""
"0","income_group <- income_group %>%"
"0","  rename(""Country Name"" = `Data for calendar year :`) %>%"
"0","  select(`Country Name`:`2019`) %>%"
"0","  pivot_longer(cols = ""1987"":""2019"","
"0","               names_to = ""Year"","
"0","               values_to = ""income_group"")"
"0",""
"0","patent_gdp <- full_join(patent, gdp_per_capita) %>%"
"0","  full_join(income_group) %>%"
"0","  na.omit()"
"0",""
